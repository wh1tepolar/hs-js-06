{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAGA,MAEMC,EAAO,CACTC,KAAMC,SAASC,cAAc,QAC7BC,SAAUF,SAASC,cAAc,YACjCE,MAAOH,SAASC,cAAc,UAG5BG,EAAeC,KAAKC,MAAMC,aAAaC,QARzB,wB,IASHC,EAAjB,MAAMC,EAAyB,QAAdD,EAAAE,WAAc,IAAdF,IAAkB,GAkBnC,SAASE,IACDP,IACAN,EAAKC,KAAKa,SAASC,MAAMC,MAAQV,EAAaS,MAC9Cf,EAAKC,KAAKa,SAASG,QAAQD,MAAQV,EAAaW,Q,CAnBxDjB,EAAKC,KAAKiB,iBAAiB,UAI3B,SAAkBC,GACdA,EAAEC,iBACFD,EAAEE,cAAcC,QAChBC,QAAQC,IAAIZ,GACZH,aAAagB,WAnBG,sB,IAYpBzB,EAAKC,KAAKiB,iBAAiB,SAAS,EAAApB,EAAA4B,WAUpC,SAAiBP,GACjBP,EAASO,EAAEQ,OAAOC,MAAQT,EAAEQ,OAAOX,MACnCP,aAAaoB,QAxBO,sBAwBctB,KAAKuB,UAAUlB,G,GAZI,MAsBrDC","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n    form: document.querySelector('form'),\n    textarea: document.querySelector('textarea'),\n    input: document.querySelector('input')\n};\n\nconst savedMessage = JSON.parse(localStorage.getItem(STORAGE_KEY))\nconst formData = inputMessage() ?? {};\n\nrefs.form.addEventListener('submit', onSubmit)\nrefs.form.addEventListener('input', throttle(onInput,500))\n\n\nfunction onSubmit(e) {\n    e.preventDefault();\n    e.currentTarget.reset();\n    console.log(formData)\n    localStorage.removeItem(STORAGE_KEY)\n}\n\nfunction onInput(e) {\nformData[e.target.name] = e.target.value\nlocalStorage.setItem(STORAGE_KEY, JSON.stringify(formData))\n}\n\nfunction inputMessage () {\n    if (savedMessage) {\n        refs.form.elements.email.value = savedMessage.email;\n        refs.form.elements.message.value = savedMessage.message;\n    }\n}\n\ninputMessage();\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","textarea","input","$945622fd0f572e60$var$savedMessage","JSON","parse","localStorage","getItem","$945622fd0f572e60$var$ref","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$inputMessage","elements","email","value","message","addEventListener","e","preventDefault","currentTarget","reset","console","log","removeItem","throttle","target","name","setItem","stringify"],"version":3,"file":"03-feedback.2a8c54d6.js.map"}