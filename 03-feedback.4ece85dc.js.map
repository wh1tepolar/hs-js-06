{"mappings":"gfAAA,IAYiBA,EAZjBC,EAAAC,EAAA,SAGMC,EAAc,sBAEdC,EAAO,CACTC,KAAMC,SAASC,cAAc,QAC7BC,SAAUF,SAASC,cAAc,YACjCE,MAAOH,SAASC,cAAc,UAG5BG,EAAeC,KAAKC,MAAMC,aAAaC,QAAQX,IAC/CY,EAAyB,QAAdf,EAAAgB,WAAc,IAAdhB,IAAkB,GAkBnC,SAASgB,IACDN,IACAN,EAAKC,KAAKY,SAASC,MAAMC,MAAQT,EAAaQ,MAC9Cd,EAAKC,KAAKY,SAASG,QAAQD,MAAQT,EAAaU,Q,CAnBxDhB,EAAKC,KAAKgB,iBAAiB,UAI3B,SAAkBC,GACdA,EAAEC,iBACFD,EAAEE,cAAcC,QAChBC,QAAQC,IAAIZ,GACZF,aAAae,WAAWzB,E,IAP5BC,EAAKC,KAAKgB,iBAAiB,SAAS,EAAApB,EAAA4B,WAUpC,SAAiBP,GACjBP,EAASO,EAAEQ,OAAOC,MAAQT,EAAEQ,OAAOX,MACnCN,aAAamB,QAAQ7B,EAAaQ,KAAKsB,UAAUlB,G,GAZI,MAsBrDC,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n    form: document.querySelector('form'),\n    textarea: document.querySelector('textarea'),\n    input: document.querySelector('input')\n};\n\nconst savedMessage = JSON.parse(localStorage.getItem(STORAGE_KEY))\nconst formData = inputMessage() ?? {};\n\nrefs.form.addEventListener('submit', onSubmit)\nrefs.form.addEventListener('input', throttle(onInput,500))\n\n\nfunction onSubmit(e) {\n    e.preventDefault();\n    e.currentTarget.reset();\n    console.log(formData)\n    localStorage.removeItem(STORAGE_KEY)\n}\n\nfunction onInput(e) {\nformData[e.target.name] = e.target.value\nlocalStorage.setItem(STORAGE_KEY, JSON.stringify(formData))\n}\n\nfunction inputMessage () {\n    if (savedMessage) {\n        refs.form.elements.email.value = savedMessage.email;\n        refs.form.elements.message.value = savedMessage.message;\n    }\n}\n\ninputMessage();\n"],"names":["$b00c40859be242c5$var$ref","$1WSnx","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$refs","form","document","querySelector","textarea","input","$b00c40859be242c5$var$savedMessage","JSON","parse","localStorage","getItem","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$inputMessage","elements","email","value","message","addEventListener","e","preventDefault","currentTarget","reset","console","log","removeItem","throttle","target","name","setItem","stringify"],"version":3,"file":"03-feedback.4ece85dc.js.map"}